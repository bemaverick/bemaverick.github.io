(this["webpackJsonpfirebase-chat-react"]=this["webpackJsonpfirebase-chat-react"]||[]).push([[0],{21:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},28:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(12),o=a.n(s),c=(a(26),a(8)),i=a.n(c),u=a(13),m=a(14),l=a(15),d=a(19),h=a(16),g=a(20),p=(a(28),a(17)),b=a.n(p),w=a(9),v=a(5),f=(a(39),{apiKey:"AIzaSyAsIHuK7Ch5nIKJ_FvSO1wDx9duVVmD-Ak",authDomain:"competitionchat.firebaseapp.com",databaseURL:"https://competitionchat.firebaseio.com",projectId:"competitionchat",storageBucket:"competitionchat.appspot.com",messagingSenderId:"750085230345",appId:"1:750085230345:web:7b37022d91cb776e268dd8"}),y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={userName:sessionStorage.getItem("userName")||"",uid:sessionStorage.getItem("uid"),messageIsFetched:!1},a.handleNewUserMessage=function(e){a.state.userName?a.sendMessageToServer(e):a.setUserName(e)},a.setUserName=function(e){var t="".concat(e,"_").concat(Math.random(),"_").concat(Date.now());a.setState({userName:e,uid:t}),sessionStorage.setItem("userName",e),sessionStorage.setItem("uid",t)},a.sendMessageToServer=function(e){var t=a.state,n=t.userName,r=t.uid;a.store.add({uid:r,userName:n,text:e,timestamp:Date.now()})},b.a.initializeApp(f),a.store=w.firestore().collection("messages"),a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.uid,e.next=3,w.auth().signInAnonymously();case 3:this.store.orderBy("timestamp","asc").onSnapshot((function(e){e.docChanges().forEach((function(e){var n=e.doc.data();n&&n.uid===t&&!a.state.messageIsFetched&&Object(v.addUserMessage)(n.text),n&&n.uid!==t&&Object(v.addResponseMessage)("(".concat(n.userName,"):  ").concat(n.text))})),a.setState({messageIsFetched:!0})}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.userName;return r.a.createElement("div",{className:"container"},r.a.createElement(v.Widget,{subtitle:"Competition chat",senderPlaceHolder:e?"".concat(e,": Type a message..."):"Your Name",handleNewUserMessage:this.handleNewUserMessage}),r.a.createElement("div",{className:"header"},r.a.createElement("a",{href:"https://t.me/ArmwrestlingGroup",target:"_blank"},"Telegram channel "),r.a.createElement("a",{href:"https://www.youtube.com/channel/UCONba2gMK9iHfvJ2cCKstDw",target:"_blank"},"YT channel"),r.a.createElement("button",{onClick:v.toggleWidget,target:"_blank"},"Online chat"),r.a.createElement("a",{href:"http://www.waf-armwrestling.com/event/worlds2019/",target:"_blank"},"S\u0421HEDULE"),r.a.createElement("a",null,"Mail: sergomen153@gmail.com")),r.a.createElement("div",{className:"row"},r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"}),r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"}),r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"}),r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"})),r.a.createElement("div",{className:"row"},r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"}),r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"}),r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"}),r.a.createElement(E,{youtubeId:"rMT6gx5HvL4"})))}}]),t}(r.a.Component),E=function(e){var t,a=e.youtubeId;return r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement("iframe",{src:(t=a,"https://www.youtube.com/embed/".concat(t,"?autoplay1=1&allow=autoplay1")),frameBorder:"0",allow:"autoplay1; encrypted-media",allowFullScreen:!0})))},I=y;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.ab5932fb.chunk.js.map